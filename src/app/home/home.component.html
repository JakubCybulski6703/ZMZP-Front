<div *ngIf="showDetails" style=" z-index: 9999;position: absolute; right: 10px; top: 64px;">
  <div class="col right">
    <div class="card deep-purple">
      <div class="card-content white-text">
        <span class="card-title">Profile details</span>
        <p>
          <span>Username : {{userClaims.UserName}}</span>
          <br>
          <span>Email : {{userClaims.Email}}</span>
          <br>
          <span>Full Name : {{userClaims.FirstName}} {{userClaims.LastName}}</span>
          <br>
        </p>
      </div>
      <div class="card-action">
        <a class="waves-effect waves-light btn deep-purple darken-3" (click)="Logout()">logout</a>
      </div>
    </div>
  </div>
</div>

<div class="row">
  <div style="width: 450px; position: absolute; z-index: 9999">
    <ul class="collection" style="margin-top: 64px;">
    <mat-accordion>
      <cdk-virtual-scroll-viewport itemSize="50" class="poi-viewpoint">
        <li  *cdkVirtualFor="let poi of poiList; let i = index" class="">
        <mat-expansion-panel>
          <mat-expansion-panel-header>
            <mat-panel-title style="width: 230px;">
              <img style="height: 34px; margin-right: 10px;" src="assets/images/a-line-train-circle.png" class="circle"> {{poi.name}}
            </mat-panel-title>
            <mat-panel-description style="text-align: right">
              <a class=""><span *ngFor="let number of [0,1,2,3,4]"><i *ngIf="number < poi.mark" class="material-icons icon-grade">grade</i></span></a>
            </mat-panel-description>
          </mat-expansion-panel-header>

          <p>{{poi.category}}</p>

          <p *ngIf="poi.owner">właściciel: {{poi.owner}}</p>
          <ul class="collection with-header"  *ngIf="poi.imgs">
            <li class="collection-header"><h6>Galeria</h6></li>
            <li class="collection-item" style="padding-left: 20px">
                <mat-grid-list cols="3" rowHeight="130px">
                    <mat-grid-tile *ngFor="let path of poi.imgs"
                        [colspan]="1"
                        [rowspan]="1">
                        <img src="{{path}}" class="responsive-img">
                    </mat-grid-tile>
                  </mat-grid-list>
            </li>

          </ul>
          <ul class="collection with-header">
            <li class="collection-header"><h6>Wszystkie opinie <span class="right waves-effect waves-light btn deep-purple darken-3" style="transform: translateY(-10px);" (click)="addOpinion(i)">Dodaj</span>
            </h6>
          </li>
            <span *ngIf="poi.comments">
              <li  class="collection-item" *ngFor="let comment of poi.comments">
                <p class="comment-owner">{{comment.owner}}
                  <a ><span *ngFor="let number of [0,1,2,3,4]"><i *ngIf="number < comment.mark" class="material-icons icon-grade ">grade</i></span></a>
                </p>
                <p class="comment-description">{{comment.creationDate | date }}
                </p>
                <p class="comment-description">{{comment.description}}
                </p>
              </li>
            </span>
          </ul>

        </mat-expansion-panel>
      </li>
      </cdk-virtual-scroll-viewport>
    </mat-accordion>
  </ul>
  </div>

  <div class="col s12 no-padding">
    <nav class="nav-extended">
      <div class="nav-wrapper center deep-purple" style="z-index: 9999">
        <a href="#!" class="brand-logo">Agile locator</a>
        <a href="#!" class="left hide-on-med-and-down"><i class="material-icons left">view_list</i>Poi List</a>
        <ul class="right hide-on-med-and-down">
          <li (click)="ShowHideProfileDetails()"><a><i class="material-icons right">person_outline</i>Profile</a></li>
        </ul>
      </div>
    </nav>
    <zmzp-osm [poiList]='poiList'></zmzp-osm>
  </div>
</div>
